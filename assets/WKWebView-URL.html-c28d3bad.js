const e=JSON.parse('{"key":"v-30339eca","path":"/posts/iOS/system/WKWebView-URL.html","title":"WKWebView拦截URL","lang":"zh-CN","frontmatter":{"title":"WKWebView拦截URL","date":"2017-05-27T00:00:00.000Z","category":["iOS"],"tag":["iOS"],"description":"本文介绍使用 WKWebView 拦截 url 进行原生界面跳转 3.gif 使用代理方法 decidePolicyForNavigationAction - (void)webView:(WKWebView *)webView decidePolicyForNavigationAction:(WKNavigationAction *)navigationAction decisionHandler:(void (^)(WKNavigationActionPolicy))decisionHandler { // 获取完整url并进行UTF-8转码 NSString *strRequest = [navigationAction.request.URL.absoluteString stringByRemovingPercentEncoding]; if ([strRequest hasPrefix:@\\"app://\\"]) { // 拦截点击链接 [self handleCustomAction:strRequest]; // 不允许跳转 \\tdecisionHandler(WKNavigationActionPolicyCancel); }else { \\t// 允许跳转 decisionHandler(WKNavigationActionPolicyAllow); } }","head":[["meta",{"property":"og:url","content":"https://oragekk.me/blogs/posts/iOS/system/WKWebView-URL.html"}],["meta",{"property":"og:site_name","content":"茜茜的博客"}],["meta",{"property":"og:title","content":"WKWebView拦截URL"}],["meta",{"property":"og:description","content":"本文介绍使用 WKWebView 拦截 url 进行原生界面跳转 3.gif 使用代理方法 decidePolicyForNavigationAction - (void)webView:(WKWebView *)webView decidePolicyForNavigationAction:(WKNavigationAction *)navigationAction decisionHandler:(void (^)(WKNavigationActionPolicy))decisionHandler { // 获取完整url并进行UTF-8转码 NSString *strRequest = [navigationAction.request.URL.absoluteString stringByRemovingPercentEncoding]; if ([strRequest hasPrefix:@\\"app://\\"]) { // 拦截点击链接 [self handleCustomAction:strRequest]; // 不允许跳转 \\tdecisionHandler(WKNavigationActionPolicyCancel); }else { \\t// 允许跳转 decisionHandler(WKNavigationActionPolicyAllow); } }"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-07-24T08:54:35.000Z"}],["meta",{"property":"article:author","content":"茜茜"}],["meta",{"property":"article:tag","content":"iOS"}],["meta",{"property":"article:published_time","content":"2017-05-27T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2023-07-24T08:54:35.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"WKWebView拦截URL\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2017-05-27T00:00:00.000Z\\",\\"dateModified\\":\\"2023-07-24T08:54:35.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"茜茜\\",\\"url\\":\\"https://orgaekk.me\\"}]}"]]},"headers":[],"git":{"createdTime":1690188875000,"updatedTime":1690188875000,"contributors":[{"name":"Zzhgitup","email":"99540215+Zzhgitup@users.noreply.github.com","commits":1}]},"readingTime":{"minutes":0.77,"words":230},"filePathRelative":"posts/iOS/system/WKWebView-URL.md","localizedDate":"2017年5月27日","excerpt":"<blockquote>\\n<p>本文介绍使用 WKWebView 拦截 url 进行原生界面跳转</p>\\n</blockquote>\\n<figure><img src=\\"https://storage1.cuntuku.com/2017/05/27/3.gif\\" alt=\\"3.gif\\" tabindex=\\"0\\" loading=\\"lazy\\"><figcaption>3.gif</figcaption></figure>\\n<ul>\\n<li>使用代理方法 decidePolicyForNavigationAction</li>\\n</ul>\\n<div class=\\"language-objc line-numbers-mode\\" data-ext=\\"objc\\"><pre class=\\"shiki one-dark-pro\\" style=\\"background-color: #282c34\\" tabindex=\\"0\\"><code><span class=\\"line\\"><span style=\\"color: #ABB2BF\\">- (</span><span style=\\"color: #C678DD\\">void</span><span style=\\"color: #ABB2BF\\">)webView:(WKWebView *)webView decidePolicyForNavigationAction:(WKNavigationAction *)navigationAction decisionHandler:(</span><span style=\\"color: #C678DD\\">void</span><span style=\\"color: #ABB2BF\\"> (^)(WKNavigationActionPolicy))decisionHandler {</span></span>\\n<span class=\\"line\\"><span style=\\"color: #ABB2BF\\">    </span><span style=\\"color: #7F848E; font-style: italic\\">// 获取完整url并进行UTF-8转码</span></span>\\n<span class=\\"line\\"><span style=\\"color: #ABB2BF\\">    </span><span style=\\"color: #E5C07B\\">NSString</span><span style=\\"color: #ABB2BF\\"> *strRequest </span><span style=\\"color: #56B6C2\\">=</span><span style=\\"color: #ABB2BF\\"> [navigationAction.request.URL.absoluteString </span><span style=\\"color: #61AFEF\\">stringByRemovingPercentEncoding</span><span style=\\"color: #ABB2BF\\">];</span></span>\\n<span class=\\"line\\"><span style=\\"color: #ABB2BF\\">    </span><span style=\\"color: #C678DD\\">if</span><span style=\\"color: #ABB2BF\\"> ([strRequest </span><span style=\\"color: #61AFEF\\">hasPrefix:</span><span style=\\"color: #98C379\\">@\\"app://\\"</span><span style=\\"color: #ABB2BF\\">]) {</span></span>\\n<span class=\\"line\\"><span style=\\"color: #ABB2BF\\">        </span><span style=\\"color: #7F848E; font-style: italic\\">// 拦截点击链接</span></span>\\n<span class=\\"line\\"><span style=\\"color: #ABB2BF\\">        [</span><span style=\\"color: #E5C07B\\">self</span><span style=\\"color: #ABB2BF\\"> </span><span style=\\"color: #61AFEF\\">handleCustomAction:</span><span style=\\"color: #ABB2BF\\">strRequest];</span></span>\\n<span class=\\"line\\"><span style=\\"color: #ABB2BF\\">        </span><span style=\\"color: #7F848E; font-style: italic\\">// 不允许跳转</span></span>\\n<span class=\\"line\\"><span style=\\"color: #ABB2BF\\">      \\t</span><span style=\\"color: #61AFEF\\">decisionHandler</span><span style=\\"color: #ABB2BF\\">(WKNavigationActionPolicyCancel);</span></span>\\n<span class=\\"line\\"><span style=\\"color: #ABB2BF\\">    }</span><span style=\\"color: #C678DD\\">else</span><span style=\\"color: #ABB2BF\\"> {</span></span>\\n<span class=\\"line\\"><span style=\\"color: #ABB2BF\\">    \\t</span><span style=\\"color: #7F848E; font-style: italic\\">// 允许跳转</span></span>\\n<span class=\\"line\\"><span style=\\"color: #ABB2BF\\">        </span><span style=\\"color: #61AFEF\\">decisionHandler</span><span style=\\"color: #ABB2BF\\">(WKNavigationActionPolicyAllow);</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"color: #ABB2BF\\">    }</span></span>\\n<span class=\\"line\\"><span style=\\"color: #ABB2BF\\">}</span></span>\\n<span class=\\"line\\"></span></code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","copyright":{"author":"Oragekk","license":"CC BY-NC-SA 4.0"},"autoDesc":true}');export{e as data};
